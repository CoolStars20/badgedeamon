{% macro badge(image, title, dat) -%}
\noindent
\begin{minipage}[h][5.5in][c]{3.1in}
{{title}}\\
\noindent
\fbox{
  \begin{minipage}[h][5in][c]{3in}
     \noindent
       \begin{minipage}[h][.6in][b]{3in}
      \begin{centering}
        \includegraphics[height=.6in, width=\textwidth,
          keepaspectratio]{csheader}\\
      \end{centering}
      \end{minipage}
     {% if dat['type'] %}
     \begin{minipage}[t][3.9in][c]{3in}
     {% else %}
     \begin{minipage}[t][4.4in][c]{3in}
     {% endif %}
      \begin{centering}
        \vspace{ \stretch{.3} }
        {% if dat['pronoun'] %}
          \large {{dat['pronoun']}}
          \vspace{ \stretch{.1} }
        {% endif %}
        \fontsize{1cm}{1.cm}\selectfont
        \textbf{ {{dat['name']}} }\\[2mm]
        \vspace{ \stretch{.1} }
        \Large \textbf{ {{dat['inst'] | default('affiliation unkown')}} }\\
        \vfill
        {% if dat['type'] %}
        \includegraphics[height=2.5in, width=\textwidth,
          keepaspectratio]{{'{'}}{{dat[image]}}{{'}'}}\\
         {% else %}
         \includegraphics[height=3in, width=\textwidth,
          keepaspectratio]{{'{'}}{{dat[image]}}{{'}'}}\\
        {% endif %}
        \vspace{ \stretch{.5} }
      \end{centering}
    \end{minipage}
    {% if dat['type'] %}
     \begin{minipage}[t][0.5in][c]{3in}
       \begin{tcolorbox}[width=\textwidth,colback={{'{'}}{{dat['typecolor']}}{{'}'}},colupper=white]
           \centering
           {\bf \huge {{dat['typetext']}} }
         \end{tcolorbox}
       \end{minipage}
        {% endif %}
  \end{minipage}
}\end{minipage}%
{%- endmacro %}


\documentclass{article}
\usepackage[inner=2cm,outer=2cm,bottom=1cm,top=1.5cm,headsep=0cm]{geometry}
\usepackage[utf8]{inputenc}
\usepackage{graphicx}
\usepackage[usenames,dvipsnames]{xcolor}
\usepackage[T1]{fontenc}
%\usepackage{showframe}

\renewcommand{\familydefault}{\sfdefault}

\begin{document}
{{badge('image1', 'Front side of badge', dat)}}
{{badge('image2', 'Back side of badge', dat)}}

\end{document}

